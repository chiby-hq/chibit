<!DOCTYPE html>
<html>
  <head>
    <title>Chiby IDE</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="favicon.png"/>
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="chiby-ide.css"/>
  </head>
  <body style="background: #0b2228;">
      <nav class="navbar navbar-inverse">
        <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#"><img src="brand.png" height="48" width="174"></a>
                </div>
          <ul class="nav navbar-nav">
            <li class="nav-item"><a href="#" class="nav-link" onclick="chiby.showHome()"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>&nbsp;Home</a></li>
            <!--li class="nav-item"><a href="#" data-toggle="modal" data-target="#modal-new-application" class="nav-link"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;New application</a></li-->
            <!--li class="nav-item"><a href="#" class="nav-link"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>&nbsp;&nbsp;Open application</a></li-->
          </ul>
        </div>
      </nav>
      
     <div id="panel-home" class="panel panel-default collapse in">
         <div class="panel-body"> 
              <h3 style="margin-top: 0px !important">Applications</h3>
              <div id="applications-grid" class="grid">
              </div>
          </div>
      </div>
      
      
      
   <script src="jquery.min.js"></script>
   <script src="bootstrap.min.js"></script>
   <script src="packery.pkgd.min.js"></script>
   <script src="chiby-ide.service.js"></script>
   
    <script type="text/javascript">
     
      function getWindowDimensions() { 
          var myWidth = 0, myHeight = 0;
          if( typeof( window.innerWidth ) == 'number' ) {
              myWidth = window.innerWidth;
              myHeight = window.innerHeight;
          }
          if (myWidth < 1) myWidth = screen.width; // emergency fallback to prevent division by zero
          if (myHeight < 1) myHeight = screen.height; 
          return [myWidth,myHeight];
      }
              
      $(document).ready(function(){
           var dim = getWindowDimensions();
           var $grid = $('.grid').packery({
               itemSelector: '.grid-item',
               gutter: 10
             });
           
           var listener = {};
           listener.onMessage = function(msg){
                console.log("Listener Message received :", msg);
           };
           
           chiby.addWsListener(listener);
           chiby.refreshHome();
       });
    </script>
  
  </body>
